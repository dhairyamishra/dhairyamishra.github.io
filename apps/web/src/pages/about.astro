---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import BrandLogo from '../components/BrandLogo.astro';
import { getCollection } from 'astro:content';

const allExperience = await getCollection('experience');
const experience = allExperience.sort((a, b) => a.data.order - b.data.order);

const skills = [
  { category: 'Languages', items: ['Python', 'JavaScript/TypeScript', 'Java', 'C++', 'SQL/PL/SQL', 'HTML/CSS'] },
  { category: 'ML/AI', items: ['PyTorch', 'TensorFlow', 'wandb', 'Hugging Face', 'scikit-learn', 'OpenCV', 'RAG', 'ChromaDB', 'FAISS'] },
  { category: 'Cloud & DevOps', items: ['EC2', 'S3', 'Lambda', 'GKE', 'Docker', 'Kubernetes', 'Terraform', 'GitHub Actions', 'Jenkins', 'ArgoCD', 'PM2'] },
  { category: 'Frameworks & App Dev', items: ['FastAPI', 'Streamlit', 'Uvicorn', 'React', 'Vite', 'TailwindCSS', 'Zustand/Immer', 'React Flow'] },
  { category: 'Data & Storage', items: ['PostgreSQL', 'MongoDB', 'MySQL', 'Pandas', 'NumPy', 'REST APIs', 'YAML', 'HDFS', 'Spark'] },
  { category: 'Observability & Testing', items: ['OpenTelemetry', 'Grafana', 'Prometheus', 'Elastic Stack', 'pytest', 'Pydantic', 'Playwright'] },
];

const publications = [
  {
    title: 'Solaris: Multi-Agent Video World Models',
    venue: 'ICML 2026 (Submission)',
    role: 'Researcher/Developer',
    institution: 'NYU Courant',
    date: 'Sep 2025 – Present',
    venueBrand: 'icml',
  },
  {
    title: 'Testaro: Web Accessibility Testing Framework',
    venue: 'ACM SIGACCESS ASSETS 2023',
    role: 'Speaker/Contributor',
    institution: 'CVS Health',
    date: 'Oct 2023',
    venueBrand: 'acm',
  },
];

const companyBrand: Record<string, string> = {
  'CVS Health': 'cvs',
  'Aetna Health': 'aetna',
  'Evidenza': 'evidenza',
};
---

<Layout title="About — Dhairya Mishra" description="Software Engineer with 4+ years building AI/ML production systems. NYU Courant M.S. CS (AI).">
  <Navigation />
  
  <main id="main-content" class="py-20 md:py-28">
    <!-- Hero -->
    <section class="section-container mb-20">
      <div class="max-w-4xl flex flex-col md:flex-row md:items-center md:gap-12">
        <div class="flex-shrink-0 mb-8 md:mb-0 md:order-2">
          <img
            src="/profile.jpg"
            alt="Dhairya Mishra"
            class="w-48 h-48 md:w-56 md:h-56 rounded-2xl object-cover border-2 border-neon-rose/30 shadow-[0_0_25px_rgba(212,80,96,0.15)] mx-auto"
          />
        </div>
        <div class="flex-1">
          <p class="text-neon-rose font-mono text-sm tracking-widest uppercase mb-4 animate-fade-in">About Me</p>
          <h1 class="text-4xl md:text-5xl font-heading font-bold mb-6">
            <span class="text-gradient-neon">Software Engineer</span>
            <br />
            <span class="text-text-bright">& ML Researcher</span>
          </h1>
          <p class="text-lg text-muted-light leading-relaxed mb-4">
            Software Engineer with 4+ years of experience building AI/ML production and platform systems across full-stack services and data pipelines. Skilled in computer vision, NLP, cloud automation, CI/CD, and reliability-oriented orchestration, with hands-on big-data processing for large-scale ETL and backfills.
          </p>
          <p class="text-lg text-muted-light leading-relaxed">
            Contributor to multi-agent video world model research at <span class="text-neon-rose">NYU Courant</span> (ICML 2026 submission).
          </p>
        </div>
      </div>
    </section>

    <div class="divider-neon-animated"></div>

    <!-- Experience -->
    <section class="section-container py-20 md:py-28">
      <div class="reveal text-center mb-14">
        <h2 class="text-3xl md:text-4xl font-heading font-bold mb-4">
          Professional <span class="text-gradient-rose">Experience</span>
        </h2>
      </div>
      
      <div class="relative max-w-3xl mx-auto">
        <div class="absolute left-4 md:left-8 top-0 bottom-0 w-px bg-gradient-to-b from-neon-rose/40 via-neon-violet/30 to-transparent"></div>
        
        {experience.map((exp, i) => (
          <div class={`reveal reveal-delay-${i + 1} relative pl-12 md:pl-20 pb-12 last:pb-0`}>
            <div class="absolute left-[11px] md:left-[27px] top-1 w-3 h-3 rounded-full bg-neon-rose shadow-neon-sm border-2 border-base"></div>
            
            <div class="card-neon group">
              <div class="flex items-start gap-3 mb-2">
                {companyBrand[exp.data.company] && (
                  <div class="w-9 h-9 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center flex-shrink-0">
                    <BrandLogo brand={companyBrand[exp.data.company]} size="sm" />
                  </div>
                )}
                <div class="flex-1">
                  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                    <h3 class="text-lg font-heading font-semibold text-text-bright">{exp.data.role}</h3>
                    <span class="text-xs text-muted font-mono">{exp.data.startDate} — {exp.data.endDate}</span>
                  </div>
                  <p class="text-sm text-neon-rose/70">{exp.data.company} &middot; {exp.data.location}</p>
                </div>
              </div>
              
              <div class="space-y-2">
                {(exp.body || '').split('\n').filter(line => line.trim().startsWith('-')).map(line => (
                  <p class="text-sm text-muted leading-relaxed pl-3 border-l border-white/5">
                    {line.trim().slice(2)}
                  </p>
                ))}
              </div>
            </div>
          </div>
        ))}
      </div>
    </section>

    <div class="divider-neon-animated"></div>

    <!-- Publications & Talks -->
    <section class="section-container py-20 md:py-28">
      <div class="reveal text-center mb-14">
        <h2 class="text-3xl md:text-4xl font-heading font-bold mb-4">
          Publications & <span class="text-gradient-rose">Talks</span>
        </h2>
      </div>
      
      <div class="grid md:grid-cols-2 gap-6 max-w-3xl mx-auto">
        {publications.map((pub, i) => (
          <div class={`reveal reveal-delay-${i + 1} card-neon group`}>
            <div class="flex items-start gap-3 mb-3">
              <div class="w-10 h-10 rounded-lg bg-neon-violet/10 border border-neon-violet/20 flex items-center justify-center flex-shrink-0">
                <BrandLogo brand={pub.venueBrand} size="sm" />
              </div>
              <div>
                <h3 class="font-heading font-semibold text-text-bright text-sm">{pub.title}</h3>
                <p class="text-xs text-neon-rose/70 mt-1">{pub.venue}</p>
              </div>
            </div>
            <div class="flex items-center gap-3 text-xs text-muted">
              <span>{pub.role}</span>
              <span class="text-white/10">|</span>
              <span>{pub.institution}</span>
              <span class="text-white/10">|</span>
              <span>{pub.date}</span>
            </div>
          </div>
        ))}
      </div>
    </section>

    <div class="divider-neon-animated"></div>

    <!-- Skills Matrix -->
    <section class="section-container py-20 md:py-28">
      <div class="reveal text-center mb-14">
        <h2 class="text-3xl md:text-4xl font-heading font-bold mb-4">
          Skills <span class="text-gradient-rose">Matrix</span>
        </h2>
      </div>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto">
        {skills.map((group, i) => (
          <div class={`reveal reveal-delay-${(i % 5) + 1} card-neon`}>
            <h3 class="text-sm font-heading font-semibold uppercase tracking-wider mb-3 text-neon-rose">
              {group.category}
            </h3>
            <div class="flex flex-wrap gap-2">
              {group.items.map(item => (
                <span class="text-xs px-2.5 py-1 rounded-full border bg-neon-rose/5 text-neon-rose/80 border-neon-rose/15">
                  {item}
                </span>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    <div class="divider-neon-animated"></div>

    <!-- Education -->
    <section class="section-container py-20 md:py-28">
      <div class="reveal text-center mb-14">
        <h2 class="text-3xl md:text-4xl font-heading font-bold mb-4">
          <span class="text-gradient-rose">Education</span>
        </h2>
      </div>
      
      <div class="grid md:grid-cols-2 gap-6 max-w-3xl mx-auto">
        <div class="reveal reveal-delay-1 card-neon group">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-lg bg-neon-violet/10 border border-neon-violet/20 flex items-center justify-center flex-shrink-0">
              <BrandLogo brand="nyu" size="lg" />
            </div>
            <div>
              <h3 class="font-heading font-semibold text-text-bright">New York University</h3>
              <p class="text-sm text-neon-rose/70">Courant Institute</p>
              <p class="text-sm text-muted mt-1">M.S. Computer Science (AI)</p>
              <div class="flex items-center gap-3 mt-2 text-xs text-muted">
                <span>May 2026</span>
                <span class="text-neon-rose">GPA: 3.7</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="reveal reveal-delay-2 card-neon group">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-lg bg-neon-rose/10 border border-neon-rose/20 flex items-center justify-center flex-shrink-0">
              <BrandLogo brand="trine" size="lg" />
            </div>
            <div>
              <h3 class="font-heading font-semibold text-text-bright">Trine University</h3>
              <p class="text-sm text-muted mt-1">B.S. Software Engineering & Mathematics</p>
              <div class="flex items-center gap-3 mt-2 text-xs text-muted">
                <span>Dec 2021</span>
                <span>Angola, IN</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>
